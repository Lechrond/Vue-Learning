<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta http-equiv='X-UA-Compatible' content='ie=edge'>
  <script src='../lib/vue.js'></script>
  <title>计算属性</title>
</head>

<body>
  <div id='app'>
    <!-- <div>
      <label>宽</label>
      <input type="text" v-model:value="width">
    </div>
    <div>
      <label>高</label>
      <input type="text" v-model:value="height">
    </div>
    <div>
      <label>面积：{{area}}</label>
    </div> -->
    <div>
      <label>省</label>
      <input type="text" v-model:value='province'>
    </div>
    <div>
      <label>市</label>
      <input type="text" v-model:value='city'>
    </div>
    <div>
      <label>区</label>
      <input type="text" v-model:value='district'>
    </div>
    <div>
      <label>地址</label>
      <input type="text" v-model:value='address'>
    </div>
  </div>
  <script>
    new Vue({
      el: '#app',
      data: {
        width: 0,
        height: 0,
        province: "",
        city: "",
        district: "",
      },
      computed: {
        area() {
          return this.width * this.height;
        },
        address: {
          get() {
            var result = "";
            if (this.province) {
              result += this.province + "省";
            }
            if (this.city) {
              result += this.city + "市";
            }
            if (this.district) {
              result += this.district + "区";
            }
            return result;
          },
          set(value) {
            let result = value.split(/省|市|区/)
            if (result && result.length > 0) {
              this.province = result[0];
            }
            if (result && result.length > 1) {
              this.city = result[1];
            }
            if (result && result.length > 2) {
              this.district = result[2];
            }
          }
        }
      }
    })
  </script>
</body>

</html>